<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Web Worker</title>
	<style>
		.container{
			column-count:3;
			-webkit-column-count: 3
		}
		img{
			width: 400px;
		}
		.overplay{
			position:fixed;
			top:0;
			left:0;
			width:100%;
			height:100%;
			background-color:#000;
			opacity:0.7;
			z-index:10;	
		}
		.overplayimg{
			position:absolute;
			top:10%;
			left:20%;
			width:auto;
			max-height:80%;
			z-index:11;
		}
	</style>
</head>
<body>
	<div class="container">
		<img src="../public/img/EVA/1.jpg" alt="">
		<img src="../public/img/EVA/2.jpg" alt="">
		<img src="../public/img/EVA/3.png" alt="">
	</div>
	<script type="text/javascript">
		var imgs=document.querySelectorAll("img");
		for(var i=0;i<imgs.length;i++){
			imgs[i].addEventListener("click", expandPhoto);
		}
		function expandPhoto(){
			var overplay=document.createElement("div");
			overplay.setAttribute("id", "overplay");
			overplay.classList.add('overplay');
			var overplayImg=document.createElement("img");
			overplayImg.src=this.src;
			overplayImg.id="overplayImg";
			overplayImg.classList.add('overplayimg');
			overplayImg.onclick=restore;
			document.body.appendChild(overplay);
			document.body.appendChild(overplayImg);
		}
		function restore(){
			var overplay=document.getElementById("overplay");
			var overplayImg=document.getElementById("overplayImg");
			document.body.removeChild(overplay);
			document.body.removeChild(overplayImg);
		}
	</script>
	 <script type="text/javascript">
	// 	var imgs=document.querySelectorAll("img");
	// 	var smear=function(event){
	// 		var that=this;
	// 		var canvas=document.createElement("canvas");
	// 		canvas.width=this.naturalWidth;
	// 		canvas.height=this.naturalHeight;
	// 		// console.log(canvas.width,canvas.height);
	// 		var context=canvas.getContext("2d");
	// 		context.drawImage(that,0,0);
	// 		var pixels=context.getImageData(0,0,that.naturalWidth,that.naturalHeight);
	// 		var worker=new Worker("./smear.js");
	// 		worker.postMessage(pixels);
	// 		worker.onmessage=function(e){
	// 			context.putImageData(e.data,0,0);
	// 			that.src=canvas.toDataURL();
	// 			worker.terminate();
	// 			canvas.widht=canvas.height=0;
	// 		}
	// 	}
	// 	for(var i=0;i<imgs.length;i++){
	// 		imgs[i].addEventListener("click", smear,false);
	// 	}
	</script>
</body>
</html>